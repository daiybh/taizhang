# 台账管理系统 - 快速使用指南

## 🚀 快速开始

### 1. 启动服务器

```bash
# 进入服务器目录
cd server

# 启动服务
go run cmd/main.go
```

看到以下输出表示启动成功：
```
2026/02/12 13:43:35 Server starting on port 8080
2026/02/12 13:43:35 Web interface available at http://localhost:8080
[GIN-debug] Listening and serving HTTP on :8080
```

### 2. 访问系统

在浏览器中打开：**http://localhost:8080**

### 3. 登录系统

#### 管理层登录（推荐首次使用）

1. 选择"管理层"标签
2. 输入账号：`admin`
3. 输入密码：`admin`
4. 点击"登录"按钮

#### 车场层登录

1. 选择"车场层"标签
2. 输入账号（5位数，由管理层创建车场时生成）
3. 输入密码（5位数，由管理层创建车场时生成）
4. 输入车场编号
5. 点击"登录"按钮

## 📋 功能使用指南

### 管理层功能

#### 车场管理

**1. 新增车场**

```
左侧菜单 → 管理层 → 车场管理 → 新增车场按钮
```

必填信息：
- 车场名称
- 车场编号
- 联系人
- 联系电话

可选信息：
- 省、市、区
- 行业
- 备注
- 开始时间/结束时间

点击"确定"后，系统会自动：
- 生成5位数的登录账号
- 生成5位数的登录密码
- 生成唯一的密钥

**2. 编辑车场**

```
车场列表 → 操作列 → 编辑按钮
```

可编辑字段：
- 车场名称
- 省、市、区
- 行业
- 联系人、联系电话
- 备注

**3. 续费车场**

```
车场列表 → 操作列 → 续费按钮
```

步骤：
1. 查看续费前结束时间
2. 选择续费时长（单位：月）
3. 系统自动计算新结束时间
4. 点击"确定"完成续费

**4. 下载车场信息**

```
车场列表 → 操作列 → 下载按钮
```

下载内容（TXT文件）：
- 车场名称、编号
- 密钥
- 创建时间、开始时间、结束时间
- 登录网址
- 账号、密码

**5. 删除车场**

```
车场列表 → 操作列 → 删除按钮
```

⚠️ 注意：删除操作不可恢复，会有二次确认

#### 续费记录

```
左侧菜单 → 管理层 → 续费记录
```

功能：
- 查看所有车场的续费历史
- 按车场名称/编号搜索
- 查看续费前后的结束时间
- 查看续费时长

### 车场层功能

#### 公司管理

```
左侧菜单 → 车场层 → 公司管理
```

**1. 新增公司**

必填信息：
- 公司名称
- 联系人
- 联系电话（需符合手机号格式）

可选信息：
- 备注

**2. 编辑/删除公司**

与新增类似，在列表中点击对应按钮即可。

**业务关联**：
创建的公司可在车辆登记时选择，用于关联车辆所属公司。

#### 厂外运输车辆管理

```
左侧菜单 → 车场层 → 厂外运输车辆
```

**1. 查询车辆**

搜索条件：
- 车牌号
- 审核状态（已审核/未审核）
- 下发状态（已下发/未下发）

**2. 审核车辆**

单个审核：
```
车辆列表 → 操作列 → 审核按钮
```

批量审核：
```
1. 勾选需要审核的车辆
2. 点击"批量审核"按钮
```

**3. 下发车辆**

⚠️ 重要：只有已审核的车辆才能下发

单个下发：
```
车辆列表 → 操作列 → 下发按钮（仅已审核车辆显示）
```

批量下发：
```
1. 勾选已审核的车辆
2. 点击"批量下发"按钮
3. 如选中未审核车辆，会提示错误
```

**4. 查看详情**

```
车辆列表 → 操作列 → 详情按钮
```

## 💡 常用操作

### 数据筛选

所有列表页面都支持：
- 条件搜索
- 分页显示（10/20/50/100条）
- 重置搜索条件

### 表格操作

- 单击列标题：排序（部分表格支持）
- 鼠标悬停行：高亮显示
- 长文本字段：鼠标悬停显示完整内容

### 快捷键

- `Enter`：表单提交（登录页、对话框）
- `Esc`：关闭对话框

## ⚠️ 注意事项

### 数据安全

1. **删除操作**
   - 所有删除都有二次确认
   - 删除后数据无法恢复
   - 建议先备份重要数据

2. **车场续费**
   - 续费会更新结束时间
   - 续费记录会保存历史

3. **车辆下发**
   - 厂外车辆必须先审核再下发
   - 厂内车辆和非道路机械可直接下发

### 性能优化

1. **分页加载**
   - 大数据量时使用较小的分页大小
   - 推荐每页10-20条

2. **搜索建议**
   - 使用具体条件搜索，避免全表查询
   - 定期清理历史数据

### 浏览器兼容

推荐使用：
- ✅ Chrome（最佳）
- ✅ Firefox
- ✅ Safari
- ✅ Edge

不支持：
- ❌ IE 浏览器

## 🐛 常见问题

### Q1: 登录失败？

**A**: 检查以下几点：
- 账号密码是否正确（区分大小写）
- 管理层账号：admin / admin
- 车场层账号：查看车场管理的下载信息
- 车场层需要输入车场编号

### Q2: 无法加载数据？

**A**: 可能原因：
1. 服务器未启动 → 检查终端是否有错误
2. 数据库连接失败 → 检查 .env 配置
3. 网络问题 → 刷新页面重试

### Q3: 车辆无法下发？

**A**: 检查：
- 厂外车辆是否已审核？
- 是否选中了正确的车辆？
- 查看控制台是否有错误信息

### Q4: 页面显示异常？

**A**: 尝试：
1. 刷新页面（Ctrl+F5 或 Cmd+Shift+R）
2. 清除浏览器缓存
3. 使用隐私/无痕模式打开

## 📞 技术支持

遇到问题？

1. 查看浏览器控制台错误信息（F12）
2. 查看服务器终端日志
3. 查看 [server/web/README.md](README.md) 详细文档
4. 查看 [server/web/WEB_DEVELOPMENT_SUMMARY.md](WEB_DEVELOPMENT_SUMMARY.md) 开发总结

## 🔄 版本更新

### v1.0.0 (2026-02-12)

**已实现功能**:
- ✅ 登录系统
- ✅ 管理层 - 车场管理
- ✅ 管理层 - 续费记录
- ✅ 车场层 - 公司管理
- ✅ 车场层 - 厂外运输车辆（部分）

**待开发功能**:
- ⏳ 厂内运输车辆
- ⏳ 非道路移动机械
- ⏳ 二维码管理
- ⏳ 用户权限
- ⏳ 部门管理
- ⏳ 车场信息

---

**享受使用台账管理系统！** 🎉
