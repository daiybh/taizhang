# 台账管理系统 Web 界面

## 简介

基于 Vue 3 + Element Plus 的现代化 Web 管理系统，用于管理车场台账相关业务。

## 功能模块

### 管理层（admin）

1. **车场管理**
   - 车场信息的增删改查
   - 车场续费功能
   - 车场信息下载（TXT格式）
   - 自动生成账号密码

2. **续费记录**
   - 查看所有车场的续费历史记录
   - 支持按车场名称、编号筛选

### 车场层（park）

1. **车场信息**
   - 查看和修改本车场信息
   - 仅限部分字段可编辑

2. **公司管理**
   - 公司信息的增删改查
   - 关联车辆登记时的公司选择

3. **厂外运输车辆**
   - 车辆信息查询
   - 车辆审核功能
   - 车辆下发（批量/单个）
   - 只有已审核的车辆才能下发

4. **厂内运输车辆**
   - 车辆信息查询
   - 车辆下发（无需审核）

5. **非道路移动机械**
   - 机械信息查询
   - 机械下发（无需审核）

6. **二维码管理**
   - 厂外/厂内/非道路三类二维码
   - 二维码更新和下载
   - 字段配置

7. **用户权限**
   - 角色管理
   - 员工管理

8. **部门管理**
   - 部门信息的增删改查

## 使用说明

### 访问地址

```
http://localhost:8080
```

### 登录账号

**管理层（admin）**
- 账号：admin
- 密码：admin

**车场层（park）**
- 账号：由系统创建车场时自动生成（5位数）
- 密码：由系统创建车场时自动生成（5位数）
- 车场编号：在登录时需要输入

### 技术栈

- **前端框架**: Vue 3
- **UI 组件**: Element Plus
- **后端框架**: Gin (Go)
- **数据库**: MySQL

### 文件结构

```
web/
├── index.html          # 主页面
├── login.html          # 登录页面
└── js/
    ├── app.js          # 主应用逻辑
   └── js/pages/park-management/   # 页面模块（公司管理、车辆管理等）
```

## API 接口

所有 API 接口均以 `/api/v1` 为前缀。

### 管理层 API

- `GET /api/v1/parks` - 获取车场列表
- `POST /api/v1/parks` - 创建车场
- `PUT /api/v1/parks/:id` - 更新车场
- `DELETE /api/v1/parks/:id` - 删除车场
- `POST /api/v1/parks/:id/renew` - 续费车场
- `GET /api/v1/parks/:id/download` - 下载车场信息
- `GET /api/v1/renewals` - 获取续费记录

### 车场层 API

- `GET /api/v1/companies` - 获取公司列表
- `POST /api/v1/companies` - 创建公司
- `PUT /api/v1/companies/:id` - 更新公司
- `DELETE /api/v1/companies/:id` - 删除公司
- `GET /api/v1/external-vehicles` - 获取厂外车辆列表
- `POST /api/v1/external-vehicles/audit` - 审核车辆
- `POST /api/v1/external-vehicles/dispatch` - 下发车辆
- 等等...

## 开发计划

- [x] 登录页面
- [x] 管理层 - 车场管理
- [x] 管理层 - 续费记录
- [x] 车场层 - 公司管理
- [x] 车场层 - 厂外运输车辆
- [ ] 车场层 - 厂内运输车辆（完善）
- [ ] 车场层 - 非道路移动机械（完善）
- [ ] 车场层 - 二维码管理
- [ ] 车场层 - 用户权限
- [ ] 车场层 - 部门管理
- [ ] 车场层 - 车场信息
- [ ] 图片上传功能
- [ ] 数据导出功能
- [ ] 统计报表

## 注意事项

1. 本系统设计支持 500 个车场，1000 万条数据的场景
2. 所有列表页面均支持分页，默认每页 10 条
3. 删除操作会有二次确认
4. 只有已审核的厂外运输车辆才能下发
5. 车场账号密码在创建时自动生成，可通过下载功能获取

## 浏览器支持

- Chrome（推荐）
- Firefox
- Safari
- Edge

建议使用最新版本的现代浏览器以获得最佳体验。
